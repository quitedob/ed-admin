# 素材管理模块

## 模块概述

素材管理模块用于管理教学中使用的各类素材资源，包括图片和视频两种类型。支持上传、编辑、删除、复制等操作。

## 功能特性

### 1. 素材上传
- 支持图片素材上传（JPG、PNG、GIF等）
- 支持视频素材上传（MP4、AVI、MOV等）
- 文件大小限制：图片10MB，视频500MB
- 自动生成缩略图

### 2. 素材管理
- 素材列表展示（卡片视图）
- 素材编辑（修改名称、描述、状态）
- 素材删除（单个或批量）
- 素材复制（快速创建副本）

### 3. 素材搜索和筛选
- 按名称搜索
- 按类型筛选（图片/视频）
- 按状态筛选（已发布/草稿）

### 4. 素材预览
- 图片预览（支持放大）
- 视频预览（支持播放）
- 素材详情查看

### 5. 统计信息
- 总素材数统计
- 图片素材数统计
- 视频素材数统计

## 文件结构

```
src/views/material/
├── index.vue                    # 主页面
├── components/
│   └── MaterialDialog.vue       # 素材编辑对话框
└── README.md                    # 本文件
```

## 页面布局

### 主页面 (index.vue)

#### 顶部工具栏
- 上传素材按钮
- 批量导入按钮
- 导出按钮

#### 搜索和筛选区域
- 名称搜索框
- 类型筛选下拉框
- 状态筛选下拉框

#### 统计卡片
- 总素材数
- 图片素材数
- 视频素材数

#### 素材卡片网格
- 素材预览（图片/视频）
- 素材信息（名称、描述、类型、大小、状态）
- 操作按钮（编辑、复制、删除）

#### 分页控件
- 支持自定义每页显示数量（12、24、36）

### 编辑对话框 (MaterialDialog.vue)

#### 表单字段
- 素材名称（必填）
- 素材类型（必填，单选）
- 素材描述（必填）
- 上传文件（必填）
- 发布状态（单选：草稿/已发布）

#### 文件上传
- 支持拖拽上传
- 支持点击选择
- 文件类型和大小验证
- 上传进度显示

## 数据模型

### Material（素材）

```javascript
{
  id: 'mat_001',                    // 素材ID
  name: '教学背景图1',              // 素材名称
  type: 'image',                    // 素材类型：image|video
  description: '高质量教学背景图片', // 素材描述
  fileUrl: 'https://...',           // 文件URL
  thumbnailUrl: 'https://...',      // 缩略图URL（仅图片）
  size: 2048576,                    // 文件大小（字节）
  status: 'published',              // 状态：published|draft
  createTime: new Date()            // 创建时间
}
```

## API接口

### 素材管理API (users.js)

```javascript
// 素材分页查询
materialPage(params, pageCurrent, pageSize)

// 素材详情查询
materialView(data)

// 素材保存
materialSave(data)

// 素材编辑
materialEdit(data)

// 素材删除
materialDelete(data)

// 素材上传
materialUpload(data)

// 素材批量删除
materialBatchDelete(data)
```

## 菜单配置

### 菜单项
- 路径：`/material`
- 名称：素材管理
- 图标：picture
- 父菜单：AIGC管理

### 权限配置
- `material:view` - 查看素材
- `material:add` - 添加素材
- `material:edit` - 编辑素材
- `material:delete` - 删除素材
- `material:upload` - 上传素材
- `material:batch` - 批量操作

## 路由配置

```javascript
{
  path: '/material',
  component: Layout,
  redirect: '/material/index',
  children: [
    {
      path: 'index',
      name: 'MaterialManagement',
      component: () => import('@/views/material/index.vue'),
      meta: { title: '素材管理' }
    }
  ]
}
```

## 使用示例

### 上传素材

1. 点击"上传素材"按钮
2. 在对话框中填写素材信息
3. 选择素材类型（图片/视频）
4. 上传文件
5. 选择发布状态
6. 点击"上传"按钮

### 编辑素材

1. 在素材卡片上点击"编辑"按钮
2. 修改素材信息
3. 点击"更新"按钮

### 删除素材

1. 在素材卡片上点击"删除"按钮
2. 确认删除

### 复制素材

1. 在素材卡片上点击"复制"按钮
2. 系统自动创建副本（名称后缀为"(副本)"）

### 搜索和筛选

1. 在搜索框输入素材名称
2. 在类型下拉框选择素材类型
3. 在状态下拉框选择发布状态
4. 系统自动过滤显示结果

## 样式特点

### 卡片设计
- 响应式网格布局
- 悬停效果（上升+阴影）
- 预览图片/视频缩略图

### 统计卡片
- 渐变背景色
- 图标展示
- 数字统计

### 交互效果
- 平滑过渡动画
- 悬停预览按钮
- 加载状态反馈

## 扩展建议

### 功能扩展
1. 添加素材分类功能
2. 添加素材标签功能
3. 添加素材收藏功能
4. 添加素材分享功能
5. 添加素材使用统计

### 性能优化
1. 实现虚拟滚动
2. 添加图片懒加载
3. 实现缓存机制
4. 优化大文件上传

### 用户体验
1. 添加拖拽排序
2. 添加批量操作
3. 添加快捷键支持
4. 添加撤销/重做功能

## 常见问题

### Q: 如何上传大文件？
A: 系统支持最大500MB的视频文件上传，建议使用分片上传技术处理超大文件。

### Q: 如何批量导入素材？
A: 点击"批量导入"按钮，选择包含素材信息的CSV或Excel文件进行导入。

### Q: 如何管理素材权限？
A: 通过权限系统配置，可以为不同角色分配不同的素材管理权限。

### Q: 如何优化素材存储？
A: 建议定期清理未使用的素材，使用CDN加速素材访问。

## 相关文档

- [系统架构文档](../../SYSTEM_ARCHITECTURE.md)
- [快速集成指南](../../QUICK_INTEGRATION_GUIDE.md)
- [API文档](../../api/users.js)

## 更新日志

### v1.0.0 (2024-11-16)
- 初始版本发布
- 支持图片和视频素材管理
- 支持上传、编辑、删除、复制操作
- 支持搜索和筛选功能
- 支持素材预览功能
